<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Malla Curricular Interactiva</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600&display=swap');
    :root {
      --rosa: #ffe8f0;
      --amarillo: #fff8d2;
      --celeste: #d9edff;
      --verde: #dff6dd;
      --texto: #444;
      --gris: #ccc;
      --border-radius: 16px;
      --transition-time: 0.3s;
    }

    /* Reset y body */
    * {
      box-sizing: border-box;
    }
    body {
      font-family: 'Quicksand', sans-serif;
      background: #fafafa;
      color: var(--texto);
      margin: 0;
      padding: 0;
      line-height: 1.4;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    header {
      background: var(--celeste);
      padding: 2rem 1rem;
      text-align: center;
      border-bottom: 2px solid var(--gris);
      box-shadow: 0 3px 8px rgba(0,0,0,0.05);
    }

    header h1 {
      margin: 0;
      font-weight: 600;
      font-size: 2.25rem;
      letter-spacing: 0.05em;
      color: #5a5a5a;
    }

    header p {
      margin-top: 0.5rem;
      font-style: italic;
      font-weight: 400;
      font-size: 1rem;
      color: #666;
    }

    main {
      max-width: 960px;
      margin: 2rem auto 4rem;
      padding: 0 1rem;
    }

    /* Sección año */
    section.anio {
      padding: 1.5rem 1rem 2rem;
      border-radius: var(--border-radius);
      margin-bottom: 2rem;
      box-shadow: 0 5px 12px rgba(0,0,0,0.05);
      transition: background-color var(--transition-time);
    }
    section.anio h2 {
      margin-top: 0;
      font-weight: 600;
      font-size: 1.7rem;
      margin-bottom: 1rem;
      color: #444;
    }

    /* Colores años */
    .anio.rosa { background: var(--rosa); }
    .anio.amarillo { background: var(--amarillo); }
    .anio.celeste { background: var(--celeste); }
    .anio.verde { background: var(--verde); }

    /* Aclaración */
    .aclaracion {
      background: #fff;
      padding: 0.9rem 1rem;
      border-radius: var(--border-radius);
      font-style: italic;
      margin-bottom: 1.5rem;
      border-left: 5px solid var(--gris);
      color: #555;
      box-shadow: 0 2px 6px rgba(0,0,0,0.07);
      user-select: none;
    }

    /* Grid de materias */
    .materias-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill,minmax(230px,1fr));
      gap: 1.25rem;
    }

    /* Tarjeta materia */
    .materia {
      background: white;
      border-radius: var(--border-radius);
      padding: 1rem 1rem 1.2rem;
      box-shadow: 0 3px 10px rgba(0,0,0,0.07);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      cursor: pointer;
      transition: transform var(--transition-time), box-shadow var(--transition-time);
      user-select: none;
      position: relative;
    }
    .materia:hover:not(.disabled) {
      transform: translateY(-5px);
      box-shadow: 0 6px 20px rgba(0,0,0,0.12);
    }
    .materia.disabled {
      opacity: 0.5;
      pointer-events: none;
      cursor: default;
      filter: grayscale(30%);
    }

    /* Checkbox + label */
    .label {
      display: flex;
      align-items: center;
      gap: 0.7rem;
      font-size: 1rem;
      font-weight: 600;
      color: var(--texto);
      border-radius: var(--border-radius);
    }
    .label input[type="checkbox"] {
      width: 22px;
      height: 22px;
      cursor: pointer;
      accent-color: #d57fa1; /* suave rosa */
      border-radius: 6px;
      flex-shrink: 0;
      transition: accent-color 0.3s;
    }
    .materia:hover input[type="checkbox"]:not(:disabled) {
      accent-color: #e07cae;
    }
    .label input[type="checkbox"]:disabled {
      cursor: default;
    }

    /* Correlativas */
    .correlativas {
      margin-top: 0.6rem;
      font-size: 0.82rem;
      color: #666;
      font-weight: 400;
      line-height: 1.3;
      user-select: text;
    }

    /* Indicador obligatorio */
    .nota {
      font-size: 0.82rem;
      color: #a04a65;
      font-style: italic;
      margin-top: 0.8rem;
      user-select: none;
    }

    /* Animación suave al activar checkbox */
    input[type="checkbox"] {
      transition: transform 0.15s ease-in-out;
    }
    input[type="checkbox"]:checked {
      transform: scale(1.1);
    }

    /* Residencia */
    .residencia {
      background: #fff2c7;
      border-radius: var(--border-radius);
      padding: 1rem 1.2rem;
      box-shadow: 0 3px 8px rgba(0,0,0,0.05);
      font-style: italic;
      color: #6b541d;
      max-width: 600px;
      margin: 0 auto;
      text-align: center;
      font-weight: 600;
    }

    @media (max-width: 600px) {
      .materias-grid {
        grid-template-columns: 1fr;
      }
      main {
        margin: 1rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Malla Curricular Interactiva</h1>
    <p>Marcá las materias aprobadas para desbloquear sus correlativas ✨</p>
  </header>

  <main>
    <!-- Primer Año -->
    <section class="anio rosa" id="anio1">
      <h2>Primer Año</h2>
      <div class="materias-grid">
        <div class="materia"><label class="label"><input type="checkbox" id="ingles1" onchange="actualizar()"> Lengua Inglesa I</label></div>
        <div class="materia"><label class="label"><input type="checkbox" id="esp1" onchange="actualizar()"> Lengua Española I</label></div>
        <div class="materia"><label class="label"><input type="checkbox" id="trad1" onchange="actualizar()"> Traducción I</label></div>
        <div class="materia"><label class="label"><input type="checkbox" id="fono1" onchange="actualizar()"> Fonología I</label></div>
        <div class="materia"><label class="label"><input type="checkbox" id="gram1" onchange="actualizar()"> Gramática Inglesa I</label></div>
        <div class="materia"><label class="label"><input type="checkbox" id="cultura" onchange="actualizar()"> Asp. Bás. de la Cultura</label></div>
        <div class="materia"><label class="label"><input type="checkbox" id="info" onchange="actualizar()"> Introd. a los Recursos Informáticos</label></div>
      </div>
    </section>

    <!-- Segundo Año -->
    <section class="anio amarillo" id="anio2">
      <h2>Segundo Año</h2>
      <div class="aclaracion">
        *Para cursar materias de segundo año, necesitás haber aprobado tres finales de materias de primer año.*
      </div>
      <div class="materias-grid">
        <div class="materia disabled" id="trad2-box">
          <label class="label"><input type="checkbox" id="trad2" disabled onchange="actualizar()"> Traducción II</label>
          <div class="correlativas">Correlativas: Lengua Inglesa I, Gramática Inglesa I, Traducción I, Lengua Española I</div>
        </div>
        <div class="materia disabled" id="ingles2-box">
          <label class="label"><input type="checkbox" id="ingles2" disabled onchange="actualizar()"> Lengua Inglesa II</label>
          <div class="correlativas">Correlativas: Lengua Inglesa I, Gramática Inglesa I, Fonología I</div>
        </div>
        <div class="materia disabled" id="gram2-box">
          <label class="label"><input type="checkbox" id="gram2" disabled onchange="actualizar()"> Gramática Inglesa II</label>
          <div class="correlativas">Correlativas: Lengua Inglesa I, Gramática Inglesa I</div>
        </div>
        <div class="materia disabled" id="fono2-box">
          <label class="label"><input type="checkbox" id="fono2" disabled onchange="actualizar()"> Fonología II</label>
          <div class="correlativas">Correlativa: Fonología I</div>
        </div>
        <div class="materia disabled" id="esp2-box">
          <label class="label"><input type="checkbox" id="esp2" disabled onchange="actualizar()"> Lengua Española II</label>
          <div class="correlativas">Correlativa: Lengua Española I</div>
        </div>
        <div class="materia disabled" id="lit-box">
          <label class="label"><input type="checkbox" id="lit" disabled onchange="actualizar()"> Introd. a la Literatura</label>
          <div class="correlativas">Correlativa: Asp. Bás. de la Cultura</div>
        </div>
        <div class="materia disabled" id="term-box">
          <label class="label"><input type="checkbox" id="term" disabled onchange="actualizar()"> Terminología y Documentación (taller)</label>
          <div class="correlativas">Correlativa: Introd. a los Recursos Informáticos</div>
        </div>
      </div>
    </section>

    <!-- Tercer Año -->
    <section class="anio celeste" id="anio3">
      <h2>Tercer Año</h2>
      <div class="aclaracion">
        *Para cursar materias de tercer año, necesitás haber aprobado los finales de todas las materias de primer año y tres finales de materias de segundo año.*
      </div>
      <div class="materias-grid">
        <div class="materia disabled" id="tradLit1-box">
          <label class="label"><input type="checkbox" id="tradLit1" disabled onchange="actualizar()"> Traducción Literaria I</label>
          <div class="correlativas">Correlativas: Lengua Inglesa II, Gramática Inglesa II, Introd. a la Literatura, Lengua Española II, Traducción II</div>
        </div>
        <div class="materia disabled" id="tradTC1-box">
          <label class="label"><input type="checkbox" id="tradTC1" disabled onchange="actualizar()"> Traducción Técnico-Científica I</label>
          <div class="correlativas">Correlativas: Lengua Inglesa II, Gramática Inglesa II, Lengua Española II, Traducción II</div>
        </div>
        <div class="materia disabled" id="interp1-box">
          <label class="label"><input type="checkbox" id="interp1" disabled onchange="actualizar()"> Interpretación I (taller)</label>
          <div class="correlativas">Correlativas: Lengua Inglesa II, Fonología II, Lengua Española II, Traducción II</div>
          <div class="nota">*Para aprobar Interpretación I, no es necesario tener aprobados los finales de las correlativas.*</div>
        </div>
        <div class="materia disabled" id="ingles3-box">
          <label class="label"><input type="checkbox" id="ingles3" disabled onchange="actualizar()"> Lengua Inglesa III</label>
          <div class="correlativas">Correlativas: Lengua Inglesa II, Gramática Inglesa II, Fonología II</div>
        </div>
        <div class="materia disabled" id="estruc-comp-box">
          <label class="label"><input type="checkbox" id="estrucComp" disabled onchange="actualizar()"> Estructuras Comparadas</label>
          <div class="correlativas">Correlativas: Traducción II, Gramática Inglesa II, Lengua Española II</div>
        </div>
        <div class="materia disabled" id="lit20-box">
          <label class="label"><input type="checkbox" id="lit20" disabled onchange="actualizar()"> Literatura del Siglo XX</label>
          <div class="correlativas">Correlativa: Introd. a la Literatura</div>
        </div>
        <div class="materia disabled" id="anal-riop-box">
          <label class="label"><input type="checkbox" id="analRiop" disabled onchange="actualizar()"> Análisis de Textos Rioplatenses</label>
          <div class="correlativas">Correlativa: Lengua Española II</div>
        </div>
      </div>
    </section>

    <!-- Cuarto Año -->
    <section class="anio verde" id="anio4">
      <h2>Cuarto Año</h2>
      <div class="aclaracion">
        *Para cursar materias de cuarto año, necesitás haber aprobado los finales de segundo año y tres finales de tercer año.*
      </div>
      <div class="materias-grid">
        <div class="materia disabled" id="tradInv-box">
          <label class="label"><input type="checkbox" id="tradInv" disabled onchange="actualizar()"> Traducción Inversa</label>
          <div class="correlativas">Correlativas: Lengua Inglesa III, Traducción Literaria I, Interpretación I, Análisis de Textos Rioplatenses, Estructuras Comparadas, Traducción Técnico-Científica I</div>
        </div>
        <div class="materia disabled" id="tradLit2-box">
          <label class="label"><input type="checkbox" id="tradLit2" disabled onchange="actualizar()"> Traducción Literaria II</label>
          <div class="correlativas">Correlativas: Lengua Inglesa III, Traducción Literaria I, Literatura del Siglo XX, Análisis de Textos Rioplatenses, Estructuras Comparadas</div>
        </div>
        <div class="materia disabled" id="tradTC2-box">
          <label class="label"><input type="checkbox" id="tradTC2" disabled onchange="actualizar()"> Traducción Técnico-Científica II</label>
          <div class="correlativas">Correlativas: Lengua Inglesa III, Traducción Técnico-Científica I, Análisis de Textos Rioplatenses, Estructuras Comparadas</div>
        </div>
        <div class="materia disabled" id="interp2-box">
          <label class="label"><input type="checkbox" id="interp2" disabled onchange="actualizar()"> Interpretación II (taller)</label>
          <div class="correlativas">Correlativas: Lengua Inglesa III, Traducción Técnico-Científica I, Interpretación I, Estructuras Comparadas</div>
          <div class="nota">*Para aprobar Interpretación II, no es necesario tener aprobados los finales de las correlativas.*</div>
        </div>
        <div class="materia disabled" id="ingles4-box">
          <label class="label"><input type="checkbox" id="ingles4" disabled onchange="actualizar()"> Lengua Inglesa IV</label>
          <div class="correlativas">Correlativa: Lengua Inglesa III</div>
        </div>
        <div class="materia disabled" id="ling-box">
          <label class="label"><input type="checkbox" id="ling" disabled onchange="actualizar()"> Lingüística</label>
          <div class="correlativas">Correlativas: Traducción Literaria I, Traducción Técnico-Científica I, Estructuras Comparadas</div>
        </div>
        <div class="materia disabled" id="expresion-box">
          <label class="label"><input type="checkbox" id="expresion" disabled onchange="actualizar()"> Expresión Oral y Escrita en Español</label>
          <div class="correlativas">Correlativas: Análisis de Textos Rioplatenses, Estructuras Comparadas</div>
        </div>
        <div class="materia disabled" id="desempeno-box">
          <label class="label"><input type="checkbox" id="desempeno" disabled onchange="actualizar()"> Desempeño Profesional (taller)</label>
          <div class="correlativas">Correlativas: Traducción Técnico-Científica I, Traducción Literaria I</div>
        </div>
        <div class="materia disabled" id="etica-box">
          <label class="label"><input type="checkbox" id="etica" disabled onchange="actualizar()"> Ética y Deontología (seminario)</label>
          <div class="correlativas">Sin correlativas</div>
        </div>
      </div>
    </section>

    <!-- Residencia -->
    <section class="anio amarillo residencia" id="residencia-section">
      <h2>Residencia Profesional</h2>
      <p>La residencia es el cierre del plan de estudios, con duración aproximada de 6 meses.</p>
    </section>
  </main>

  <script>
    // Defino las correlativas para cada materia
    const materias = {
      ingles1: [],
      esp1: [],
      trad1: [],
      fono1: [],
      gram1: [],
      cultura: [],
      info: [],

      trad2: ["ingles1", "gram1", "trad1", "esp1"],
      ingles2: ["ingles1", "gram1", "fono1"],
      gram2: ["ingles1", "gram1"],
      fono2: ["fono1"],
      esp2: ["esp1"],
      lit: ["cultura"],
      term: ["info"],

      tradLit1: ["ingles2", "gram2", "lit", "esp2", "trad2"],
      tradTC1: ["ingles2", "gram2", "esp2", "trad2"],
      interp1: [], // no necesita correlativas para aprobar, pero sí para cursar, se habilita igual
      ingles3: ["ingles2", "gram2", "fono2"],
      estrucComp: ["trad2", "gram2", "esp2"],
      lit20: ["lit"],
      analRiop: ["esp2"],

      tradInv: ["ingles3", "tradLit1", "interp1", "analRiop", "estrucComp", "tradTC1"],
      tradLit2: ["ingles3", "tradLit1", "lit20", "analRiop", "estrucComp"],
      tradTC2: ["ingles3", "tradTC1", "analRiop", "estrucComp"],
      interp2: [], // mismo caso que interp1
      ingles4: ["ingles3"],
      ling: ["tradLit1", "tradTC1", "estrucComp"],
      expresion: ["analRiop", "estrucComp"],
      desempeno: ["tradTC1", "tradLit1"],
      etica: []
    };

    // Esta función verifica cuántas materias de un año están aprobadas
    // Para desbloquear años superiores
    function contarAprobadas(ids) {
      return ids.reduce((acc, id) => {
        const checkbox = document.getElementById(id);
        return acc + (checkbox && checkbox.checked ? 1 : 0);
      }, 0);
    }

    // Esta función habilita o deshabilita una materia según si se cumplen las correlativas
    function actualizar() {
      // Primero desbloqueamos segundo año si hay al menos 3 aprobadas del primero
      const primerAnioIds = ["ingles1", "esp1", "trad1", "fono1", "gram1", "cultura", "info"];
      const aprobPrimerAnio = contarAprobadas(primerAnioIds);
      const puedeSegundoAnio = aprobPrimerAnio >= 3;

      // Desbloquear segundo año
      ["trad2", "ingles2", "gram2", "fono2", "esp2", "lit", "term"].forEach(id => {
        const box = document.getElementById(id + "-box");
        const checkbox = document.getElementById(id);
        if (puedeSegundoAnio) {
          // habilitar solo si correlativas aprobadas
          const correl = materias[id];
          const todasCorrelativas = correl.every(c => {
            const cb = document.getElementById(c);
            return cb && cb.checked;
          });
          if (todasCorrelativas) {
            box.classList.remove("disabled");
            checkbox.disabled = false;
          } else {
            box.classList.add("disabled");
            checkbox.disabled = true;
            checkbox.checked = false;
          }
        } else {
          box.classList.add("disabled");
          checkbox.disabled = true;
          checkbox.checked = false;
        }
      });

      // Segundo año aprobado para desbloquear tercer año: todos aprobados primero + 3 aprobados segundo
      const segundoAnioIds = ["trad2", "ingles2", "gram2", "fono2", "esp2", "lit", "term"];
      const aprobSegundoAnio = contarAprobadas(segundoAnioIds);
      const aprobPrimerCompleto = primerAnioIds.every(id => {
        const cb = document.getElementById(id);
        return cb && cb.checked;
      });
      const puedeTercerAnio = aprobPrimerCompleto && aprobSegundoAnio >= 3;

      // Desbloquear tercer año
      ["tradLit1", "tradTC1", "interp1", "ingles3", "estrucComp", "lit20", "analRiop"].forEach(id => {
        const box = document.getElementById(id + "-box");
        const checkbox = document.getElementById(id);
        if (puedeTercerAnio) {
          // Para interp1, no pide correlativas para aprobar
          if (id === "interp1") {
            box.classList.remove("disabled");
            checkbox.disabled = false;
          } else {
            const correl = materias[id];
            const todasCorrelativas = correl.every(c => {
              const cb = document.getElementById(c);
              return cb && cb.checked;
            });
            if (todasCorrelativas) {
              box.classList.remove("disabled");
              checkbox.disabled = false;
            } else {
              box.classList.add("disabled");
              checkbox.disabled = true;
              checkbox.checked = false;
            }
          }
        } else {
          box.classList.add("disabled");
          checkbox.disabled = true;
          checkbox.checked = false;
        }
      });

      // Para cuarto año: todos segundos aprobados + 3 terceros aprobados
      const tercerAnioIds = ["tradLit1", "tradTC1", "interp1", "ingles3", "estrucComp", "lit20", "analRiop"];
      const aprobTercerAnio = contarAprobadas(tercerAnioIds);
      const puedeCuartoAnio = aprobSegundoAnio === segundoAnioIds.length && aprobTercerAnio >= 3;

      // Desbloquear cuarto año
      ["tradInv", "tradLit2", "tradTC2", "interp2", "ingles4", "ling", "expresion", "desempeno", "etica"].forEach(id => {
        const box = document.getElementById(id + "-box");
        const checkbox = document.getElementById(id);
        if (puedeCuartoAnio) {
          // interp2 tampoco necesita correlativas para aprobar
          if (id === "interp2" || id === "etica") {
            box.classList.remove("disabled");
            checkbox.disabled = false;
          } else {
            const correl = materias[id];
            const todasCorrelativas = correl.every(c => {
              const cb = document.getElementById(c);
              return cb && cb.checked;
            });
            if (todasCorrelativas) {
              box.classList.remove("disabled");
              checkbox.disabled = false;
            } else {
              box.classList.add("disabled");
              checkbox.disabled = true;
              checkbox.checked = false;
            }
          }
        } else {
          box.classList.add("disabled");
          checkbox.disabled = true;
          checkbox.checked = false;
        }
      });
    }

    // Inicializar al cargar la página
    window.addEventListener("load", actualizar);
  </script>
</body>
</html>
